<div *ngIf="salesman">
    <h1>{{ salesman.firstname }} {{ salesman.lastname }}</h1>
    <!-- <h3>{{ salesman.position }}</h3> TODO: Refactor Salesman model-->

    <mat-tab-group>
        <!-- Tab 1: Sales Orders -->
        <mat-tab label="Sales Orders">
            <table mat-table [dataSource]="salesOrders" class="mat-elevation-z8">
                <ng-container matColumnDef="orderId">
                    <th mat-header-cell *matHeaderCellDef>Order ID</th>
                    <td mat-cell *matCellDef="let order" (click)="selectOrder(order)">{{ order.id }}</td>
                </ng-container>
                <ng-container matColumnDef="amount">
                    <th mat-header-cell *matHeaderCellDef>Amount</th>
                    <td mat-cell *matCellDef="let order">{{ order.amount }}</td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="['orderId', 'amount']"></tr>
                <tr mat-row *matRowDef="let row; columns: ['orderId', 'amount'];" style="cursor: pointer;"></tr>
            </table>
        </mat-tab>

        <!-- Tab 2: Order Details -->
        <mat-tab label="Order Details">
            <div *ngIf="selectedOrder">
                <h2>Details for Order ID: {{ selectedOrder.id }}</h2>
                <table mat-table [dataSource]="orderDetails" class="mat-elevation-z8">
                    <ng-container matColumnDef="product">
                        <th mat-header-cell *matHeaderCellDef>Product</th>
                        <td mat-cell *matCellDef="let detail">{{ detail.product }}</td>
                    </ng-container>
                    <ng-container matColumnDef="quantity">
                        <th mat-header-cell *matHeaderCellDef>Quantity</th>
                        <td mat-cell *matCellDef="let detail">{{ detail.quantity }}</td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="['product', 'quantity']"></tr>
                    <tr mat-row *matRowDef="let row; columns: ['product', 'quantity'];"></tr>
                </table>
            </div>
            <div *ngIf="!selectedOrder">
                <p>Please select an order from the Sales Orders tab to view details.</p>
            </div>
        </mat-tab>

        <!-- Tab 3: Bonuses -->
        <mat-tab label="Bonuses">
            <div>
                <h2>Bonuses</h2>
                <ul>
                    <li *ngFor="let bonus of bonuses">{{ bonus }}</li>
                </ul>
            </div>
        </mat-tab>
    </mat-tab-group>
</div>
<div *ngIf="!salesman">
    <p>Loading...</p>
</div>
